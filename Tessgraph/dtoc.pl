#!/usr/bin/perl

use strict;


my $forbidden = {};


while ( <DATA> ) {
    chomp;
    if( /^(D[0-9]+): (.*)$/ ) {
	my $d = $1;
	my %allowed = map { $_ => 1 } split(/\s+/, $2);
	$forbidden->{$d} = [];
	for my $i ( 1..32 ) {
	    if( !$allowed{"D$i"} ) {
		push @{$forbidden->{$d}}, "D$i";
	    }
	}
    }
}


for my $i ( 1..32 ) {
    print "D$i: ";
    print join(' ', map { sprintf("%-3s", $_) } @{$forbidden->{"D$i"}}) . "\n";
}




















__DATA__
D1: D2  D3  D4  D5  D6  D7  D8  D9  D10 D11 D12 D13 D14 D15 D16 D17 D18 D21 D22 D23 D24 D25 D26 D29
D2: D1  D3  D4  D5  D6  D7  D8  D9  D10 D11 D12 D13 D14 D15 D16 D17 D19 D21 D22 D23 D24 D25 D27 D30
D3: D1  D2  D4  D5  D6  D7  D8  D9  D10 D11 D12 D13 D14 D15 D16 D18 D20 D21 D22 D23 D24 D26 D28 D31
D4: D1  D2  D3  D5  D6  D7  D8  D9  D10 D11 D12 D13 D14 D15 D16 D19 D20 D21 D22 D23 D24 D27 D28 D32
D5: D1  D2  D3  D4  D6  D7  D8  D9  D10 D11 D12 D13 D14 D15 D17 D18 D19 D21 D22 D25 D26 D27 D29 D30
D6: D1  D2  D3  D4  D5  D7  D8  D9  D10 D11 D12 D13 D14 D16 D17 D18 D20 D21 D23 D25 D26 D28 D29 D31
D7: D1  D2  D3  D4  D5  D6  D8  D9  D10 D11 D12 D13 D15 D16 D17 D19 D20 D22 D24 D25 D27 D28 D30 D32
D8: D1  D2  D3  D4  D5  D6  D7  D9  D10 D11 D12 D14 D15 D16 D18 D19 D20 D23 D24 D26 D27 D28 D31 D32
D9: D1  D2  D3  D4  D5  D6  D7  D8  D10 D11 D12 D13 D14 D17 D18 D19 D20 D21 D25 D26 D29 D30 D31 D32
D10: D1  D2  D3  D4  D5  D6  D7  D8  D9  D11 D12 D13 D15 D17 D18 D19 D20 D22 D25 D27 D29 D30 D31 D32
D11: D1  D2  D3  D4  D5  D6  D7  D8  D9  D10 D12 D14 D16 D17 D18 D19 D20 D23 D26 D28 D29 D30 D31 D32
D12: D1  D2  D3  D4  D5  D6  D7  D8  D9  D10 D11 D15 D16 D17 D18 D19 D20 D24 D27 D28 D29 D30 D31 D32
D13: D1  D2  D3  D4  D5  D6  D7  D9  D10 D14 D15 D16 D17 D18 D19 D21 D22 D23 D24 D25 D26 D27 D29 D30
D14: D1  D2  D3  D4  D5  D6  D8  D9  D11 D13 D15 D16 D17 D18 D20 D21 D22 D23 D24 D25 D26 D28 D29 D31
D15: D1  D2  D3  D4  D5  D7  D8  D10 D12 D13 D14 D16 D17 D19 D20 D21 D22 D23 D24 D25 D27 D28 D30 D32
D16: D1  D2  D3  D4  D6  D7  D8  D11 D12 D13 D14 D15 D18 D19 D20 D21 D22 D23 D24 D26 D27 D28 D31 D32
D17: D1  D2  D5  D6  D7  D9  D10 D11 D12 D13 D14 D15 D18 D19 D20 D21 D22 D25 D26 D27 D29 D30 D31 D32
D18: D1  D3  D5  D6  D8  D9  D10 D11 D12 D13 D14 D16 D17 D19 D20 D21 D23 D25 D26 D28 D29 D30 D31 D32
D19: D2  D4  D5  D7  D8  D9  D10 D11 D12 D13 D15 D16 D17 D18 D20 D22 D24 D25 D27 D28 D29 D30 D31 D32
D20: D3  D4  D6  D7  D8  D9  D10 D11 D12 D14 D15 D16 D17 D18 D19 D23 D24 D26 D27 D28 D29 D30 D31 D32
D21: D1  D2  D3  D4  D5  D6  D9  D13 D14 D15 D16 D17 D18 D22 D23 D24 D25 D26 D27 D28 D29 D30 D31 D32
D22: D1  D2  D3  D4  D5  D7  D10 D13 D14 D15 D16 D17 D19 D21 D23 D24 D25 D26 D27 D28 D29 D30 D31 D32
D23: D1  D2  D3  D4  D6  D8  D11 D13 D14 D15 D16 D18 D20 D21 D22 D24 D25 D26 D27 D28 D29 D30 D31 D32
D24: D1  D2  D3  D4  D7  D8  D12 D13 D14 D15 D16 D19 D20 D21 D22 D23 D25 D26 D27 D28 D29 D30 D31 D32
D25: D1  D2  D5  D6  D7  D9  D10 D13 D14 D15 D17 D18 D19 D21 D22 D23 D24 D26 D27 D28 D29 D30 D31 D32
D26: D1  D3  D5  D6  D8  D9  D11 D13 D14 D16 D17 D18 D20 D21 D22 D23 D24 D25 D27 D28 D29 D30 D31 D32
D27: D2  D4  D5  D7  D8  D10 D12 D13 D15 D16 D17 D19 D20 D21 D22 D23 D24 D25 D26 D28 D29 D30 D31 D32
D28: D3  D4  D6  D7  D8  D11 D12 D14 D15 D16 D18 D19 D20 D21 D22 D23 D24 D25 D26 D27 D29 D30 D31 D32
D29: D1  D5  D6  D9  D10 D11 D12 D13 D14 D17 D18 D19 D20 D21 D22 D23 D24 D25 D26 D27 D28 D30 D31 D32
D30: D2  D5  D7  D9  D10 D11 D12 D13 D15 D17 D18 D19 D20 D21 D22 D23 D24 D25 D26 D27 D28 D29 D31 D32
D31: D3  D6  D8  D9  D10 D11 D12 D14 D16 D17 D18 D19 D20 D21 D22 D23 D24 D25 D26 D27 D28 D29 D30 D32
D32: D4  D7  D8  D9  D10 D11 D12 D15 D16 D17 D18 D19 D20 D21 D22 D23 D24 D25 D26 D27 D28 D29 D30 D31
